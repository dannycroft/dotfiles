set nocompatible
set t_Co=256

filetype off

set rtp+=~/.vim/bundle/vundle/
call vundle#rc()

Bundle 'gmarik/vundle'

Bundle 'tpope/vim-sensible'
Bundle 'kien/ctrlp.vim'
Bundle 'Lokaltog/vim-powerline'
Bundle 'scrooloose/nerdtree'
Bundle 'jelera/vim-javascript-syntax'
Bundle 'pangloss/vim-javascript'
Bundle 'scrooloose/syntastic'
Bundle 'bling/vim-airline'
Bundle 'docunext/closetag.vim'
Bundle 'Raimondi/delimitMate'
Bundle 'mustache/vim-mustache-handlebars'
Bundle 'sjl/badwolf'
Bundle 'benmills/vimux'
Bundle 'tpope/vim-surround'
Bundle 'hail2u/vim-css3-syntax'
Bundle 'othree/html5-syntax.vim'
Bundle 'tpope/vim-markdown'
Bundle 'jelera/vim-javascript-syntax'
Bundle 'othree/javascript-libraries-syntax.vim'
Bundle 'jiangmiao/simple-javascript-indenter'
Bundle 'tpope/vim-haml'
Bundle 'maksimr/vim-jsbeautify'
Bundle 'einars/js-beautify'

set shiftwidth=2
set number
set laststatus=2
set hlsearch
set incsearch
set nobackup
set ruler
set textwidth=80
set visualbell t_vb=

set listchars=tab:▸\ ,eol:¬

set autoindent
set noexpandtab
set tabstop=4
set shiftwidth=4
set pastetoggle=<F2>
set exrc
set secure
set autoread

set winwidth=84
set winheight=5
set winminheight=5
set winheight=999

let g:syntastic_check_on_open=1
let g:airline_theme='luna'
let g:airline_powerline_fonts=1

filetype plugin indent on
set autoindent

syntax enable
set background=dark
colorscheme solarized

hi LineNr ctermfg=grey
nnoremap <Leader>c :set cursorline! cursorcolumn!<cr>

augroup CursorLine
  au!
  au VimEnter,WinEnter,BufWinEnter * setlocal cursorline
  au WinLeave * setlocal nocursorline
augroup END

map <C-n> :NERDTreeToggle<cr>
map <leader>h :nohlsearch<cr>
map <leader>l :set list!<cr>

fun! <SID>StripTrailingWhitespaces()
	let l = line(".")
	let c = col(".")
	%s/\s\+$//e
	call cursor(l, c)
endfun

autocmd BufWritePre <buffer> :call <SID>StripTrailingWhitespaces()

map <c-f> :call JsBeautify()<cr>
autocmd FileType javascript noremap <buffer>  <c-f> :call JsBeautify()<cr>
autocmd FileType html noremap <buffer> <c-f> :call HtmlBeautify()<cr>
autocmd FileType css noremap <buffer> <c-f> :call CSSBeautify()<cr>

map rp :VimuxPromptCommand
map rl :VimuxRunCommand
map ri :VimuxInspectRunner
map rx :VimuxClosePanes
map rs :VimuxInterruptRunner
